---
- name: RouterOS test with network_cli connection
  hosts: all
  gather_facts: false
  vars:
    ospf_instance_name: core
    ospf_area_id: "0.0.0.0"
    ospf_version: "2
  tasks:

    - name: Check of OSPF instance al bestaat
      community.routeros.command:
        commands:
          - /routing ospf instance print detail where name={{ ospf_instance_name }}
      register: system_resource_print

    - name: Show system resources
      debug:
        var: system_resource_print.stdout_lines

    - name: Gather facts
      community.routeros.facts:

    - name: Show a fact
      debug:
        msg: "First IP address: {{ ansible_net_all_ipv4_addresses[0] }}"
  
